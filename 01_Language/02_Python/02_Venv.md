# Virtual Environment
가상 환경이란 Python 프로젝트마다 독립적인 패키지 공간을 제공하는 시스템이다. venv, conda 등의 도구를 사용해서 프로젝트 별로 패키지를 격리해서 사용할 수 있다.

## Python 의 패키지 사용
Python은 기본적으로 다양한 기능을 제공하지만, 남이 만들어 둔 패키지를 활용하면 개발이 훨씬 효율적이다.

예를 들어, Django 같은 것들을 혼자 만든다거나, JWT 의 인증 로직을 혼자 구현하는 것은 상당히 비효율적인 행위이다.

다른 프로그램 언어와 마찬가지로, Python 또한 이런 패키지들을 쉽게 공유하고 설치할 수 있는 커뮤니티가 존재하며, 패키지 관리 시스템(Package Manager) 을 제공한다.

## pip 란
pip 는 Python 의 공식 패키지 관리 도구로, PyPI (Python Package Index) 에서 패키지를 다운로드하고 설치할 수 있다.

```bash
pip install django
pip install requests
```

위와 같은 pip 명령어를 사용해서 패키지를 설치할 수 있다. 당연한 기능이지만 조회와 삭제 기능도 존재한다.

하지만 pip 만으로는 패키지 충돌을 방지할 수 없기 때문에, venv 와 함께 사용하는 것이 중요하다.

## 패키지 충돌이란?
하나의 프로젝트에서 사용하는 여러 패키지가 서로 다른 버전의 의존성을 요구할 때 발생하는 문제이다. 예를 들어, 나의 프로젝트에서는 Django 3 을 사용하고 있다고 하자. 이 때 RESTful API 의존성은 Django 4.0 이상을 요구한다면, 패키지 충돌이 발생하여 일부 기능이 정상적으로 작동하지 않을 수 있는 것이다.

## 패키지가 충돌할 때는 어떻게 해야 할까? (가상환경의 필요성)
어떤 하나의 프로젝트를 위해 전역적으로 설치된 프로그램을 삭제하거나 버전을 바꾸는 것은 다른 프로젝트의 패키지 충돌을 야기할 수도 있다. 그에 따라, 각 프로젝트 별로 다른 패키지 공간을 제공하는 것이 좋다.

이 때 가상 환경을 사용하여 문제를 해결할 수 있다. 가상 환경을 사용하면, 각 프로젝트별로 독립적인 패키지 공간을 할당할 수 있다. npm 의 package.json 같은 거라고 생각하면 되겠다.

## Java 의 Maven, Gradle 처럼 의존성 관리를 알아서 잘 해줄 수는 없나?
Java 에서는 Maven, Gradle 같은 빌드 도구가 패키지를 자동으로 관리해 준다.

pom.xml 또는 build.gradle 에서 의존성을 선언하면 자동으로 해결된다. 또한, 중앙 저장소 (Maven Central, JCenter) 에서 패키지를 다운로드 및 관리하고, 프로젝트 간 패키지 충돌을 자동으로 해결할 수 있다.

## Django 의 Gradle 은 패키지를 관리할 수 없나?
Python 은 Maven 이나 Gradle 같은 내장 의존성 관리 시스템이 없다. 대신, pip + venv 를 사용하거나 conda 를 사용하여 패키지를 관리해야 한다. Python 에서도 poetry 나 pipenv 같은 도구를 사용하면 Maven 과 비슷한 기능을 제공할 수 있다고 한다.

## Django 가 패키지 기반의 install 을 채택하게 된 이유
Django 는 라이브러리 자체가 하나의 패키지로 구성되어 있다. 개발자가 필요한 패키지를 추가로 설치할 수 있도록 설계되었다.

이건 Python 의 철학 측면에서 생각해 보아야 할 문제라고 한다. 일단 기본적으로 Python 이 제공하는 표준적인 패키지 관리 방식이 pip + venv 을 따른다. 새로운 패키지 관리 방식을 도입하는 것이 비효율적이라고 볼 수 있는 것이다.

또한, Django 는 "모든 것이 자동으로 해결되는 것보다는, 개발자가 명확하게 제어할 수 있는 구조를 제공하자"는 철학을 따랐다고 한다.

동시에, Maven/Gradle 처럼 동작하기 위해서는 패키지마다 중앙 저장소와 강한 버전 관리 체계를 갖추어야 하는데, Python 의 패키지 PyPI 는 그런 구조가 아니라 개발자가 원하는 버전을 직접 선택할 수 있도록 설계되었다.