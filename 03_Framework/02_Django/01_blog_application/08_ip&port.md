# IP Address & Port Number

## 1. IP Address
IP 주소 (Internet Protocol Address) 는 네트워크에 연결된 장치를 식별하는 고유한 주소이다.

## 2. Port Number
포트 번호는 네트워크에서 특정 프로세스나 서비스에 대한 식별자이다. 포트 번호는 0부터 65535까지의 범위를 가지며, 특정 서비스나 프로토콜에 할당되어 사용된다.

일반적으로 값의 크기에 따라 세 가지 범주로 나뉜다.
- 잘 알려진 포트 (0 ~ 1023) : HTTP(80), HTTPS(443), FTP(21) 등과 같은 표준 서비스에 사용된다.
- 등록된 포트 (1024 ~ 49151) : 특정 애플리케이션이나 서비스에 의해 사용되며, 특정 용도로 등록된다.
- 동적/사적 포트(49152 ~ 65535) : 클라이언트 애플리케이션에서 임의로 사용할 수 있는 포트이다.

# IP, Port Number 와 관련하여 알아 두면 좋을 기술

## 3. DHCP (Dynamic Host Configuration Protocol)
DHCP 는 네트워크에 연결된 장치에 동적으로 IP 주소를 할당하는 프로토콜이다. 이를 통해 관리자는 네트워크의 IP 주소를 수동으로 설정할 필요 없이, 장치가 네트워크에 연결될 때마다 자동으로 IP 주소를 부여 받을 수 있다.

### Q. 공유기도 IP 가 바뀔 수 있는가?
공유기는 DHCP 서버의 역할을 수행하며, 공유기에 할당되는 기기들의 IP 를 할당해주는 역할을 한다. 그러나 공유기 또한 하나의 디바이스이기 때문에, 인터넷 서비스 제공 업체(ISP)로부터 공인 IP 주소를 동적으로 할당 받는다.

공유기에 연결 되어있는 디바이스의 입장에서는 공유기의 공인 IP 주소가 외부 IP 주소로 인식된다. 따라서, 공유기의 IP 주소는 ISP 의 DHCP 서버에 의해 할당도기 때문에 주기적으로 변경될 수 있다.

한편, 공유기 내부의 사설 IP 주소 (ex_192.168.x.x) 는 DHCP 설정에 따라 고정할 수도 있다. 즉, DHCP 서버에서 특정 장치(MAC Address) 에 대해 고정 IP 주소를 예약하면, 해당 장치는 항상 동일한 사설 IP 주소를 할당 받게 된다. (내부 아이피는 설정에 따라 같은 값으로 할당해 줄 수 있다는 이야기이다)

### Q. DHCP 에 의해 할당되는 기준?
1. MAC 주소 : 각 네트워크 장치에는 고유한 MAC 주소가 있다. DHCP 서버는 이 MAC 주소를 기반으로 IP 주소를 할당한다. 특정 장치에 대해 고정 IP 주소를 예약할 수도 있다.

2. 임대 기간 : DHCP 서버는 IP 주소를 일정 기간 동안 임대한다. 임대 기간이 만료되면 장치는 DHCP 서버에 요청하여 IP 주소를 갱신해야 한다.

3. 서브넷 마스크 및 기타 설정

### Q. 디바이스와 네트워크의 연결을 끊지만 않으면 고정 IP 처럼 사용이 가능한가?
DHCP 에서 할당된 IP 주소는 임대 기간 동안 디바이스가 네트워크에 연결되어 있으면 계속 사용할 수 있다. 따라서 디바이스와 네트워크의 연결을 끊지 않는 한, 해당 IP 주소는 고정 IP 처럼 사용할 수 있다.

그러나 임대 기간이 만료되면 DHCP 서버에 의해 IP 주소가 변경될 수 있으므로, 완전히 고정 IP 주소처럼 사용하려면 DHCP 에서 IP 주소를 예약하거나 수동으로 IP 주소를 설정해야 한다. (ISP 의 DHCP 를 이용해서)

### Q. 공유기의 외부 아이피를 고정 아이피처럼 사용할 수는 없을까?
추가 비용을 지불하면 ISP 로부터 고정 IP 주소를 할당받을 수 있다. 고정 IP 주소를 사용하면 외부 IP 주소가 변경되지 않으므로, 서버 운영이나 원격 접근 등의 상황에서 유리하다.

결론적으로, 공유기의 외부 IP 주소를 고정 IP 처럼 사용하고 싶다면, ISP 에 문의하여 고정 IP 주소 서비스에 가입해야 한다.

### 결론
- ISP(Internet Service Provider)는 인터넷 서비스 제공업체를 의미한다.
- 공유기는 ISP 의 서비스에 접근하는 중개 역할을 하며, 공유기 자체가 ISP 라고 할 수는 없다.
- 공유기가 ISP 로부터 DHCP 프로토콜 방식으로 사용한다면, 주기적으로 임대 기간이 끝날 때마다 아이피가 동적으로 바뀐다.
- 공유기를 같은 아이피로 사용하고 싶다면, ISP 설정에서 공유기의 MAC Address 로 등록해야 할 것이다.
- 공유기의 내부 아이피 설정은 항상 동일한 값으로 설정되게 MAC Address 로 할 수도 있다. (공유기 소유자 권한)

## 4. Proxy
Proxy 는 대리자라는 의미를 가진, 서버와 클라이언트 간의 중개 역할을 하는 서버이다. 클라이언트의 요청을 대신 처리하여 서버에 전달하고, 서버의 응답을 클라이언트에 전달한다. 프록시는 보안, 캐싱, 접근 제어 등의 목적으로 사용된다.

## 5. NAT (Network Address Translation)
NAT 는 사설 네트워크와 공인 네트워크 간의 IP 주소를 변환하는 기술이다. NAT 를 통해 여러 장치가 하나의 공인 IP 주소를 공유할 수 있도록 하여, IP 주소의 낭비를 줄이고 보안을 강화한다.

## 6. VPN (Virtual Private Network)
VPN 은 공용 인터넷을 통해 사설 네트워크에 안전하게 연결할 수 있는 기술이다. VPN 을 통해 사용자는 원거리에서도 안전하게 네트워크에 접속할 수 있으며, 데이터 암호화와 익명성을 제공한다.

VPN을 사용한다면, 포트포워딩이 되어 있지 않은 특정 공유기에 할당 된 내부 서버에, 해당 공유기를 사용하지 않고도 접근할 수 있다.